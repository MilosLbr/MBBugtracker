@model DataModels.ViewModels.ProjectDetailsViewModel

@{
    ViewData["Title"] = "Details for " + Model.ProjectName;
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h3 class="mb-2" >
    @Model.ProjectName
</h3>

<hr />

<div>
    <div>
        <div><p>
            Created by <span class="text-info">@Model.ApplicationUser.UserName</span>.
        </p></div>
        <p>
            Start date : <span class="text-danger">@Model.StartDate.ToString("dd.MM.yyyy.")</span>
        </p>
        <p>
            Status: <span class="text-success">@Model.ProjectStatus.StatusName</span>.
        </p>
    </div>

    <div class="projectDescription mb-3">
        <h6 class="p-1">Description:</h6>
        <p class="p-1 lead ">
            @Model.Description
        </p>
    </div>

    <div class="mb-3">
        <a title="Edit" asp-action="Edit" class="btn btn-info" asp-route-id="@Model.Id"><i class="fas fa-edit"></i></a>
        @if (ViewBag.userId == Model.ApplicationUserId)
        {
            <a title="Delete" asp-action="Delete" class="btn btn-danger" asp-route-id="@Model.Id"><i class="far fa-trash-alt"></i></a>
        }
    </div>

    <div class=" p-2">
        <h5>
            Developers working on this project:         
        </h5>
        <div class="col-12">
            <ul>
                @foreach (var projUser in Model.AssignedDevelopers)
                {
                    <li>@projUser.ApplicationUser.UserName</li>
                }
            </ul>
        </div>
    </div>
</div>

<hr class="mb-4"/>
<div id="ticketsTableContainer">
    <table id="ticketsForThisProject" class="table table-striped">
        <thead class="table-dark table-bordered">
            <tr>
                <th>Ticket</th>
                <th>Reported by</th>
                <th>Priority</th>
                <th>Status</th>
                <th>Type</th>
                <th>Created on</th>
                <th>Due date</th>   
            </tr>
        </thead>
    </table>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>
